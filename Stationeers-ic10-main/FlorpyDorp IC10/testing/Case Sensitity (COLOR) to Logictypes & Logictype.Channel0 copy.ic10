define LEDDisplay -246585138
define Transmitter -693235651
define SmallDiode 1311586884
define Numpad -377257892
define MemoryCard -851746783
define Button 489382030
alias COLOR r4
alias Channel r5

#This script updates Two aimees, the Control room lights, and coords for Control Room
Start:
        yield
BlueAimeeDisplaysSet:
    #Because the other one couldn't fit it all (lines 19-
    lbn r0 SmallDiode HASH("BNoMineables") On Maximum
    breqz r0 2
    move  r8 0
    lbn r0 Transmitter HASH("LT Aimee Blue") MineablesInVicinity Maximum
    sbn LEDDisplay HASH("BMineables") Setting r0
NoMineablesWarning:
        slt r0 r0 5
        lbn r2 Transmitter HASH("LT Aimee Blue") Mode Maximum
        seq r2 r2 3
        and r0 r0 r2
        add r8 r8 r0
        breqz r8 2
        sbn SmallDiode HASH("BNoMineables") On r0  
    lbn r0 Transmitter HASH("LT Aimee Blue") PositionX Maximum
    sbn LEDDisplay HASH("BX") Setting r0
    lbn r0 Transmitter HASH("LT Aimee Blue") PositionZ Maximum
    sbn LEDDisplay HASH("BZ") Setting r0
    lbn r0 Transmitter HASH("LT Aimee Blue") Mode Maximum
    sbn LEDDisplay HASH("BMode") Setting r0
    sbn LEDDisplay HASH("BMode") Color r0
    lbns r0 Transmitter HASH("LT Aimee Blue") 0 Charge Maximum
    sbn LEDDisplay HASH("BCharge") Setting r0
    lbn COLOR LEDDisplay HASH("BX") Color Maximum
    add Channel COLOR LogicType.Channel0
    l Channel db:0 Channel
    sbn LEDDisplay HASH("BDesti") Setting Channel

YellowAimeeDisplaysSet:
    lbn r0 SmallDiode HASH("YNoMineables") On Maximum
    breqz r0 2
    move r9 0
    lbn r0 Transmitter HASH("LT Aimee Yellow") MineablesInVicinity Maximum
    sbn LEDDisplay HASH("YMineables") Setting r0
NoMineablesWarningY:
        slt r0 r0 5 
        lbn r2 Transmitter HASH("LT Aimee Yellow") Mode Maximum 
        seq r2 r2 3 
        and r0 r0 r2 
        add r9 r9 r0 
        breqz r9 2 
        sbn SmallDiode HASH("YNoMineables") On r0  #if there is 
    lbn r0 Transmitter HASH("LT Aimee Yellow") PositionX Maximum
    sbn LEDDisplay HASH("YX") Setting r0
    lbn r0 Transmitter HASH("LT Aimee Yellow") PositionZ Maximum
    sbn LEDDisplay HASH("YZ") Setting r0
    lbn r0 Transmitter HASH("LT Aimee Yellow") Mode Maximum
    sbn LEDDisplay HASH("YMode") Setting r0
    sbn LEDDisplay HASH("YMode") Color r0
    lbns r0 Transmitter HASH("LT Aimee Yellow") 0 Charge Maximum
    sbn LEDDisplay HASH("YCharge") Setting r0
    lbn COLOR LEDDisplay HASH("YX") Color Maximum
    add Channel COLOR LogicType.Channel0
    l Channel db:0 Channel
    sbn LEDDisplay HASH("YDesti") Setting Channel

LightsOn:
    lbn r1 HASH("StructureLogicSwitch2") HASH("ACS") Open Maximum
    sbn HASH("StructureLightRoundSmall") HASH("AimeeControl") On r1
    lbn r1 HASH("StructureLogicSwitch2") HASH("AHallway") Open Maximum
    sbn HASH("StructureLightRoundSmall") HASH("AHallwayL") On r1
CoordinateSet:
    lbn r1 Numpad HASH("CoordEntry") Setting Maximum
    lbn r2 SmallDiode HASH("WayX") On Maximum
    lbn r3 SmallDiode HASH("WayZ") On Maximum
    lbn r4 SmallDiode HASH("MineX") On Maximum
    lbn r5 SmallDiode HASH("MineZ") On Maximum
    lbn r6 Button HASH("Entry Button") Activate Maximum
    beqz r6 Start 
UpdateCoordinateDisplays:
        breqz r2 2
        sbn MemoryCard HASH("WAYX") Setting r1
        breqz r3 2
        sbn MemoryCard HASH("WAYZ") Setting r1
        breqz r4 2
        sbn MemoryCard HASH("MINEX") Setting r1
        breqz r5 2
        sbn MemoryCard HASH("MINEZ") Setting r1
        lbn r1 MemoryCard HASH("WAYX") Setting Maximum
        sbn LEDDisplay HASH("WAYX") Setting r1
        lbn r1 MemoryCard HASH("WAYZ") Setting Maximum
        sbn LEDDisplay HASH("WAYZ") Setting r1
        lbn r1 MemoryCard HASH("MINEX") Setting Maximum
        sbn LEDDisplay HASH("MINEX") Setting r1
        lbn r1 MemoryCard HASH("MINEZ") Setting Maximum
        sbn LEDDisplay HASH("MINEZ") Setting r1
j Start
