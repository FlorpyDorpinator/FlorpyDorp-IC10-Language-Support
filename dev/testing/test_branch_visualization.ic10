# Branch Visualization Test File
# Press Ctrl+Alt+B to toggle branch visualization

alias battery d0
alias furnace d1

start:
l r0 battery Charge
brgtz r0 3              # Forward branch: skip to charge_ok
s furnace On 0          # Turn off if no charge
s furnace Setting 0
jr 5                    # Skip to end

charge_ok:
s furnace On 1          # Turn on with charge
l r1 battery Ratio
mul r2 r1 100           # Calculate percentage
s furnace Setting r2

end:
yield
jr -13                  # Loop back to start


move r0 LogicType.RatioOxygen
l r1 d0 r0

l r10 d0 On # Hover over "On"
l r11 d0 Open # Hover over "Open"
l r12 d0 Activate # Hover over "Activate"
l r13 d0 Power # Hover over "Power"
l r14 d0 Maximum